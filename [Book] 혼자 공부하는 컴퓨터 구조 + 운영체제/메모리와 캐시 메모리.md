## 메모리와 캐시 메모리

RAM은 휘발성 저장 장치다. 전원이 꺼지면 저장된 내용이 사라진다.
하드 디스크나 SSD, USB 같은 보조기억장치는 비휘발성 저장 장치다.

RAM에는 보통 실행할 프로그램을 올려놓는다. (빠르기 때문)

RAM의 종류는 다양하다.

대표적으로는 DRAM이 있다.

DRAM은 시간이 지나면 저장된 데이터를 잃는다. 따라서 데이터의 소멸을 막기 위해 일정 주기로 데이터를 재활성화(다시 저장) 해야 한다.

하지만 소비 전력이 낮고, 저렴하고, 집적도가 높다는 장점이 있어서 가장 흔하게 쓰인다.

다음으로는 SRAM이 있다. SRAM은 시간이 지나도 저장된 데이터가 사라지지 않는다. 그리고 DRAM 보다 속도도 더 빠르다. 하지만 집적도가 낮고 소비 전력이 커서 실용적이지 못하다.
따라서 SRAM은 대용량일 필요 없이 속도가 빨라야하는 저장 장치인 캐시 메모리에서 주로 사용된다.

SDRAM은 DRAM의 발전된 형태이며 클럭 타이밍에 맞춰 CPU와 정보를 주고 받을 수 있는 DRAM이다.

DDR SDRAM은 최근 가장 흔히 사용되는 RAM이며 대역폭을 넓혀 속도를 빠르게 만든 SDRAM이다.
대역폭이란 데이터를 주고받는 길의 너비를 뜻한다. 대역폭이 두배 넓어서 DDR (Double Data Rate)이다. 한 클럭당 하나의 데이터를 주고받을 수 있는 SDRAM은 SDR SDRAM이라 부른다.

DDR SDRAM 다음으로는 DDR2 SDRAM, DDR3 SDRAM이 있다. 뒤로 갈수록 2배만큼 빨라진다.
(DDR: 대역폭 2배, DDR2: 4배, DDR3: 8배)

### 메모리의 주소 공간

주소는 물리 주소와 논리 주소가 있다. 메모리 하드웨어가 사용하는 주소는 물리 주소이고 논리 주소는 CPU와 실행 중인 프로그램이 사용하는 0번지부터 시작되는 주소다.

CPU와 실행 중인 프로그램은 현재 메모리 몇 번지에 무엇이 저장되어 있는지 알지 못한다. 매번 바뀌기 때문이다.

프로그램은 언제든지 실행되고 중단될 수 있기 때문에 프로그램끼리는 물리 주소를 굳이 알 필요가 없다. 오직 자신의 논리 주소만 알고 있다. 그리고 각자의 프로그램은 각자만의 논리 주소 체계를 따른다.

물론 CPU가 이해하는 논리 주소와 메모리가 사용하는 물리 주소와의 연결은 필요하다.
이 변환은 CPU와 주소 버스 사이에 위치한 메모리 관리 장치(MMU: Memory Management Unit)라는 하드웨어에 의해 수행된다.

MMU는 CPU가 발생시킨 논리 주소에 베이스 레지스터 값을 더하여 논리 주소를 물리 주소로 변환한다.
베이스 레지스터는 프로그램의 가장 작은 물리 주소, 즉 프로그램의 첫 물리 주소를 저장하는 셈이고, 논리 주소는 프로그램의 시작점으로부터 떨어진 거리인 셈이다.

프로그램마다 주어진 논리 주소의 범위가 있을 텐데, 잘못된 명령어로 인해 다른 프로그램의 영역을 침범할 수도 있다. 이를 방지하기 위해 한계 레지스터가 존재한다.

베이스 레지스터가 실행 중인 프로그램의 가장 작은 물리 주소를 저장한다면, 한계 레지스터는 논리 주소의 최대 크기를 저장한다. 즉, 프로그램의 물리 주소 범위는 베이스 레지스터 값 이상, 베이스 레지스터 + 한계 레지스터 값 미만이 된다.

CPU는 메모리에 접근하기 전에 접근하고자 하는 논리 주소가 한계 레지스터보다 작은지를 항상 검사한다. 만약 CPU가 한계 레지스터보다 높은 논리 주소에 접근하려고 하면 인터럽트를 발생시켜 실행을 중단한다.
